@using Entities.Dto.ProductDtos
@model ProductUpdateDto

<h2>Edit Product</h2>

<!-- Form üçün JavaScript təsdiqi əlavə edirik -->
<form asp-area="Dashboard" asp-controller="Products" asp-action="UpdateProduct" method="post" enctype="multipart/form-data" onsubmit="return confirm('Update etmək istədiyinizə əminsinizmi?');">
    <input type="hidden" asp-for="ProductId" />

    <div class="form-group">
        <label asp-for="Name"></label>
        <input asp-for="Name" class="form-control" />
    </div>

    <div class="form-group">
        <label asp-for="Description"></label>
        <textarea asp-for="Description" class="form-control"></textarea>
    </div>

    <div class="form-group">
        <label asp-for="Spesification"></label>
        <textarea asp-for="Spesification" class="form-control"></textarea>
    </div>

    <div class="form-group">
        <label asp-for="Price"></label>
        <input asp-for="Price" class="form-control" />
    </div>

    <div class="form-group">
        <label asp-for="Stock"></label>
        <input asp-for="Stock" class="form-control" />
    </div>

    <div class="form-group">
        <label asp-for="IsDiscount"></label>
        <input asp-for="IsDiscount" type="checkbox" class="form-check-input" />
    </div>

    <div class="form-group">
        <label asp-for="DiscountPrice"></label>
        <input asp-for="DiscountPrice" class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="IsDelivery"></label>
        <input asp-for="IsDelivery" type="checkbox" class="form-check-input" />
    </div>
    <div class="form-group">
        <label asp-for="ShippingCost"></label>
        <input asp-for="ShippingCost" class="form-control" />
    </div>
    <div class="form-group">
        <label asp-for="IsFeatured"></label>
        <input asp-for="IsFeatured" type="checkbox" class="form-check-input" />
    </div>

    <div class="form-group">
        <label asp-for="CategoryId"></label>
        <select asp-for="CategoryId" class="form-control" asp-items="ViewBag.Categories">
        </select>
    </div>

    <div class="form-group">
        <label asp-for="BrandId"></label>
        <select asp-for="BrandId" class="form-control" asp-items="ViewBag.Brands">
        </select>
    </div>

    <!-- Mövcud şəkilləri göstər -->
    <h3>Existing Images</h3>
    @foreach (var image in Model.ExistingImages)
    {
        <div>
            <img src="@image.ImageUrl" alt="Product Image" width="100" height="100" />
            <input type="checkbox" name="DeleteImages" value="@image.Id" /> Delete
        </div>
    }

    <!-- Yeni şəkilləri əlavə etmək üçün -->
    <div class="form-group">
        <label for="newImages">Add New Images</label>
        <input type="file" name="ProductImages" multiple class="form-control" />
    </div>

    <button type="submit" class="btn btn-primary">Update Product</button>
</form>
